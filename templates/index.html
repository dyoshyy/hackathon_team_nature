{% extends "layout.html " %}
{% block content %}

<style>
  .table {
    display: none;
    margin: auto;
  }

  .table:target {
    display: block;
  }

  .tab {
    display: flex;
    margin: auto;
    color: aliceblue;
    font-size: 24px;
  }

  .condition {
    display: flex;
    justify-content: center; 
    align-items: center;
  }

  .condition form{
    width: 700px;
    height: 300px;
    margin: 50px;
    background-color: rgb(147, 172, 151);
  }

  .condition label{
    font-size: 20px;
    margin-right: 10px;
    margin-bottom: 15px;
  }

  .select_dist p{
    font-size: 24px;
  }

  .select_dist span{
    font-size: 30px;
  }

  input[type="range"] {
  -webkit-appearance: none; /* ğŸš©ã“ã‚Œç„¡ã—ã ã¨ã‚¹ã‚¿ã‚¤ãƒ«ãŒã»ã¼å…¨ãåæ˜ ã•ã‚Œãªã„ã®ã§æ³¨æ„ */
  appearance: none;
  cursor: pointer; /* ã‚«ãƒ¼ã‚½ãƒ«ã‚’åˆ†ã‹ã‚Šã‚„ã™ã */
  outline: none; /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã¯è¦‹ãŸç›®ãŒã‚­ãƒ„ã‚¤ã®ã§æ¶ˆã™ */
  height: 20px; /* ãƒãƒ¼ã®é«˜ã• */
  width: 80%; /* ãƒãƒ¼ã®å¹… */
  background: rgb(124, 143, 127); /* ãƒãƒ¼ã®èƒŒæ™¯è‰² */
  border-radius: 10px; /* ãƒãƒ¼ã®ä¸¡ç«¯ã®ä¸¸ã¿ */
  border: solid 3px #dff1ff; /* ãƒãƒ¼å‘¨å›²ã®ç·š */
}

.tab a{
  background-color: #566d55;
  margin: 10px;
  border-radius: 10px;
}
.tab a:visited{color: #ffffff;}
.table a{color: #000000;}
.table a:visited{color: #000000;}
.table a{
  line-height: 30px;
  transition: 0.3s;
}
.table a:hover{
  background-color: #e2f3e1;
}
</style>

<main>
  <div class="tab">
    <a href="#tab1">å…ç«¥ä¼šé¤¨</a>
    <a href="#tab2">ã‚¤ãƒ™ãƒ³ãƒˆ</a>
    <a href="#tab3">æ¡ä»¶æŒ‡å®š</a>
  </div>

  <div id="tab1" class="table">
    {% for elem in table1 %}
    <div class="table1-box">
      <p class="name">{{ elem[1] }}</p>
      <p class="address">{{ elem[2] }}</p>
      <p class="access">{{ elem[4] }}</p>
      <p class="tel1">{{ elem[5] }}</p>
    </div>
    {% endfor %}
  </div>

  <div id="tab2" class="table">
    {% for elem in table2 %}
    <div class="table2-box">
      <p class="event"><a href ="{{elem[7]}}">{{ elem[1] }}</a></p>
      <p class="organization">{{ elem[2] }}</p>
      <p class="location">{{ elem[3] }}</p>
      <p class="date">{{ elem[4] }}</p>
      <p class="genre">{{ elem[5] }}</p>
      <p class="tel2">{{ elem[6] }}</p>
    </div>
    {% endfor %}
  </div>

  <div id="tab3" class="table">
    <h1>æ¡ä»¶ã‚’é¸æŠã—ã¦ãã ã•ã„</h1>

    <div class="condition">
      <form method="post" action="/search_genre" class="select_genre">
        <h1>ã‚¸ãƒ£ãƒ³ãƒ«</h1>
        <br>
        <input type="radio" name="genre" id="hinkon" value="è²§å›°ãƒ»äººæ¨©" required>
        <label for="hinkon">è²§å›°ãƒ»äººæ¨©</label>
        <input type="radio" name="genre" id="chiiki" value="åœ°åŸŸæ´»æ€§åŒ–ãƒ»ã¾ã¡ã¥ãã‚Š" required>
        <label for="chiiki">åœ°åŸŸæ´»æ€§åŒ–ãƒ»ã¾ã¡ã¥ãã‚Š</label>
        <input type="radio" name="genre" id="sport" value="ã‚¹ãƒãƒ¼ãƒ„ãƒ»ã‚¢ãƒ¼ãƒˆãƒ»æ–‡åŒ–" required>
        <label for="sport">ã‚¹ãƒãƒ¼ãƒ„ãƒ»ã‚¢ãƒ¼ãƒˆãƒ»æ–‡åŒ–</label>
        <br>
        <input type="radio" name="genre" id="kankyo" value="ç’°å¢ƒãƒ»è¾²æ¥­" required>
        <label for="kankyo">ç’°å¢ƒãƒ»è¾²æ¥­</label>
        
        <input type="radio" name="genre" id="edu" value="æ•™è‚²" required>
        <label for="edu">æ•™è‚²</label>
        <input type="radio" name="genre" id="fukushi" value="ç¦ç¥‰ãƒ»éšœãŒã„ãƒ»é«˜é½¢è€…" required>
        <label for="fukushi">ç¦ç¥‰ãƒ»éšœãŒã„ãƒ»é«˜é½¢è€…</label>
        <br>
        <input type="radio" name="genre" id="shinsai" value="éœ‡ç½ãƒ»ç½å®³" required>
        <label for="shinsai">éœ‡ç½ãƒ»ç½å®³</label>
        <input type="radio" name="genre" id="other" value="ãã®ä»–" required>
        <label for="other">ãã®ä»–</label>
        <br><br>
        <button type="submit">æ¤œç´¢</button>
      </form>

      <form method="post" action="/search_dist" class="select_dist">
        <h1>è·é›¢</h1>
        <br>
        <input type="range" name='dist' id="dist" min="1" max="50" step="1">
        <p>ç¾åœ¨åœ°ã‹ã‚‰<span id="current-value"></span>km</p>
        <button type="submit">æ¤œç´¢</button>
      </form>
    </div>
</main>

<script>
  const inputElem = document.getElementById('dist'); // inputè¦ç´ 
  const currentValueElem = document.getElementById('current-value'); // åŸ‹ã‚è¾¼ã‚€å…ˆã®spanè¦ç´ 

  // ç¾åœ¨ã®å€¤ã‚’spanã«åŸ‹ã‚è¾¼ã‚€é–¢æ•°
  const setCurrentValue = (val) => {
    currentValueElem.innerText = val;
  }

  // inputã‚¤ãƒ™ãƒ³ãƒˆæ™‚ã«å€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹é–¢æ•°
  const rangeOnChange = (e) => {
    setCurrentValue(e.target.value);
  }

  window.onload = () => {
    inputElem.addEventListener('input', rangeOnChange); // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å¤‰åŒ–æ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«
    setCurrentValue(inputElem.value); // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«å€¤ã‚’ã‚»ãƒƒãƒˆ
  }
</script>

{% endblock %}